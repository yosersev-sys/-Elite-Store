
RewriteEngine On
RewriteBase /

# 1. إذا كان الملف موجوداً كملف حقيقي، قدمه فوراً ولا تطبق القواعد
RewriteCond %{REQUEST_FILENAME} -f
RewriteRule ^ - [L]

# 2. إجبار السيرفر على تقديم ملفات الموديولات كجافا سكريبت
<FilesMatch "\.(tsx|ts|jsx)$">
    Header set Content-Type "application/javascript"
</FilesMatch>

# 3. توجيه كافة المسارات الأخرى لـ index.html لدعم روابط الـ SPA
RewriteRule ^ index.html [L]

# منع التخزين المؤقت لملفات البرمجة أثناء التطوير لضمان رؤية التحديثات
<FilesMatch "\.(tsx|ts|html)$">
    Header set Cache-Control "max-age=0, no-cache, no-store, must-revalidate"
    Header set Pragma "no-cache"
    Header set Expires "0"
</FilesMatch>

AddType application/javascript .js .jsx .ts .tsx
